<mat-toolbar class="navbar" role="navigation">
  <!-- Logo -->
  <a routerLink="/" class="logo" aria-label="VisitGuinea logo">
    <img src="assets/img/png.png" alt="VisitGuinea" class="logo-img" />
  </a>

  <span class="spacer"></span>

  <!-- Menu centre (desktop uniquement) -->
  <div class="center-buttons">
    <button mat-button routerLink="/" routerLinkActive="router-link-active" [routerLinkActiveOptions]="{ exact: true }" aria-label="Accueil">Accueil</button>

    <button mat-button routerLink="/sites" routerLinkActive="router-link-active" aria-label="Destinations">Destinations</button>
    <button mat-button routerLink="/events" routerLinkActive="router-link-active" aria-label="Événements">Événements</button>
    <button mat-button routerLink="/about" routerLinkActive="router-link-active" aria-label="À Propos">À Propos</button>
    <button mat-button routerLink="/country" routerLinkActive="router-link-active" aria-label="La Guinee">La Guinée</button>
    <button mat-button routerLink="/dashboard" routerLinkActive="router-link-active" aria-label="Tableau de Bord">Tableau de Bord</button>
  </div>
  

  <!-- Avatar utilisateur (desktop uniquement) -->
  <ng-container *ngIf="isConnected; else notLoggedIn">
    <div class="user-info desktop-only" [matMenuTriggerFor]="userMenu" aria-label="Menu utilisateur" tabindex="0">
      <img [src]="user.avatarUrl" class="avatar-img" alt="avatar utilisateur" />
    </div>
  </ng-container>

  <ng-template #notLoggedIn>
    <button mat-raised-button routerLink="/login" class="login-button desktop-only" aria-label="Se connecter">Login</button>
  </ng-template>

  <!-- Menu utilisateur -->
  <mat-menu #userMenu="matMenu" role="menu">
    <button mat-menu-item routerLink="/profil" aria-label="Mon profil">
      <mat-icon>person</mat-icon>
      <span>Mon profil</span>
    </button>
    <button mat-menu-item (click)="logout()" aria-label="Déconnexion">
      <mat-icon>logout</mat-icon>
      <span>Déconnexion</span>
    </button>
  </mat-menu>

  <!-- Bouton hamburger -->
  <button mat-icon-button [class.opened]="showMobileMenu" class="menu-button" (click)="toggleMobileMenu()" aria-label="Menu principal">
    <mat-icon>menu</mat-icon>
  </button>
</mat-toolbar>

<!-- Menu mobile -->
<div *ngIf="showMobileMenu" @fadeInOut class="mobile-menu" tabindex="0">
  <button mat-button routerLink="/" routerLinkActive="router-link-active" (click)="closeMenu()" tabindex="0" aria-label="Accueil">Accueil</button>
  <button mat-button routerLink="/sites" routerLinkActive="router-link-active" (click)="closeMenu()" tabindex="0" aria-label="Destinations">Destinations</button>
  <button mat-button routerLink="/events" routerLinkActive="router-link-active" (click)="closeMenu()" tabindex="0" aria-label="Événements">Événements</button>
  <button mat-button routerLink="/about" routerLinkActive="router-link-active" (click)="closeMenu()" tabindex="0" aria-label="À Propos">À Propos</button>
  <button mat-button routerLink="/country" routerLinkActive="router-link-active" (click)="closeMenu()" tabindex="0" aria-label="La Guinée">La Guinée</button>
  <button mat-button routerLink="/dashboard" routerLinkActive="router-link-active" (click)="closeMenu()" tabindex="0" aria-label="Tableau de Bord">Tableau de Bord</button>

  <ng-container *ngIf="isConnected; else loginMobile">
    <button mat-button routerLink="/profil" (click)="closeMenu()" tabindex="0" aria-label="Mon profil">Mon profil</button>
    <button mat-button (click)="logout()" tabindex="0" aria-label="Déconnexion">Déconnexion</button>
  </ng-container>

  <ng-template #loginMobile>
    <button mat-button routerLink="/login" (click)="closeMenu()" tabindex="0" aria-label="Se connecter">Login</button>
  </ng-template>
</div>
